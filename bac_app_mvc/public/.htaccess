<IfModule mod_rewrite.c>
  RewriteEngine On

  # S'assurer que la requête n'est pas pour un fichier ou dossier existant
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d

  # Rediriger toutes les autres requêtes vers index.php
  RewriteRule ^(.*)$ index.php?url=$1 [QSA,L]
</IfModule>

# Empêcher le listage des répertoires
Options -Indexes

# Sécurité : Interdire l'accès direct à certains fichiers sensibles si placés ici par erreur
<FilesMatch "\.(htaccess|htpasswd|ini|phps|fla|psd|log|sh)$">
  Order Allow,Deny
  Deny from all
</FilesMatch>
