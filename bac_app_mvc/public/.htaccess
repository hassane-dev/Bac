<IfModule mod_rewrite.c>
  Options -Multiviews
  RewriteEngine On

  # S'assurer que la requête n'est pas pour un fichier ou dossier existant dans public/
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d

  # Rediriger toutes les autres requêtes vers index.php avec le paramètre 'url'
  RewriteRule ^(.*)$ index.php?url=$1 [QSA,L]
</IfModule>

# Empêcher le listage des répertoires
Options -Indexes

# Mesures de sécurité supplémentaires
<FilesMatch "\.(php|phtml)$">
  # S'assurer que seul index.php est directement accessible si besoin,
  # mais le routeur est censé gérer cela.
  # Pour une sécurité accrue, on pourrait restreindre davantage.
</FilesMatch>
